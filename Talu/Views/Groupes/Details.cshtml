@model Talu.Models.Groupe

@{
    ViewBag.Title = "Details";
}

<div>
    <h2>Groupe</h2>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Nom)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Nom)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

    </dl>
</div>
<a href="~/Groupes/Index" class="btn btn-primary">
    Retour à la liste complète
</a>

<h2>Listes des albums du groupe @Model.Nom</h2>

<table class="table">
    <tr>
        <th class="col-lg-2">
            @Html.DisplayNameFor(model => model.Album.First().ImagePochette)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Album.First().Nom)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Album.First().DateDeSortie)
        </th>
        <th>
            Groupe
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model.Album.Where(a => a.IdGroupe == Model.Id))
    {
        <tr>
            <td>
                @{
                    var source = item.ImagePochette;
                    <img src="@source" style="width : 40%;" />
                }
            </td>
            <td>
                @Html.ActionLink(item.Nom, "Details/" + item.Id, new { controller = "Albums" })
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DateDeSortie).ToString().Remove(10)
            </td>
            <td>
                @item.Groupe.Nom
            </td>
        </tr>
    }
</table>